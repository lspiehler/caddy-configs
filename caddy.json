{
  "logging":{
    "logs":{
      "default":{
        "level":"DEBUG",
        "writer":{
          "output":"stderr"
        }
      },
      "access":{
        "level":"DEBUG",
        "writer":{
          "output":"file",
          "filename":"./logs/access.log"
        },
        "encoder":{
          "format":"formatted",
          "template":"{common_log} \"{request>headers>Referer>[0]}\" \"{request>headers>User-Agent>[0]}\""
        },
        "include":[
          "http.log.access.access"
        ]
      }
    }
  },
  "apps":{
    "http":{
      "http_port":9080,
      "https_port":9443,
      "servers":{
        "server1":{
          "listen":[
            "127.0.0.1:9443"
          ],
          "routes":[
            {
              "match":[
                {
                  "path":[
                    "/*"
                  ]
                }
              ],
              "handle":[
                {
                  "handler":"static_response",
                  "status_code":"200",
                  "body":"Hello World!"
                },
                {
                  "handler":"headers",
                  "response":{
                    "set":{
                      "hello":[
                        "goodbye"
                      ]
                    }
                  }
                }
              ]
            }
          ],
          "logs":{
            "default_logger_name":"access"
          }
        }
      }
    },
    "tls":{
      "certificates":{
        "load_files":[
          {
            "certificate":"cert.crt",
            "key":"cert.key"
          }
        ]
      }
    }
  }
}